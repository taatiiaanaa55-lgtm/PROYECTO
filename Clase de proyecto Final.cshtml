/*
 * Creado por SharpDevelop.
 * Usuario: Jorge
 * Fecha: 12/11/2025
 * Hora: 13:28
 * 
 * Para cambiar esta plantilla use Herramientas | Opciones | Codificación | Editar Encabezados Estándar
 */
using System;
using System.Collections.Generic;

namespace Banco
{
	/// <summary>
	/// Description of Banco.
	/// </summary>
	public class Banco
	{
		//Atributos Definidos
		
    private string nombre;
    private List<Cliente> clientes;
    private List<Cuenta> cuentas;
    
     public string Nombre 
    {
       get { return nombre; } set { nombre = value; }
    }
   
   public List<Cliente> ListaClientes
{
    get { return clientes; } 
    set { clientes = value; } 
}

public List<Cuenta> ListaCuentas
{
    get { return cuentas; }  
    set { cuentas = value; }  
}
    	
	public Banco(string nombre)//Este es el constructor		
	{		
	    this.nombre = nombre;
        clientes = new List<Cliente>();
        cuentas = new List<Cuenta>();   
	}
		
		// Metodos simples para la clase cliente

    public void AgregarCliente(Cliente c)
    {
        clientes.Add(c);            // Add agrega un elemento a la lista
    }
    public void EliminarCliente(Cliente c)
    {
        clientes.Remove(c);         // Remove permite eleminar un elemento de la lista segun la posicion
    }

    public int CantidadClientes()
    {
        return clientes.Count;      // Propiedad que dice cuantos elementos hay en la lista
    }
    public Cliente VerCliente(int i)
    {
        return clientes[i];      //Me muestra la posicion del elemento
    }
    public List<Cliente> TodosLosClientes()
    {
        return clientes;           //Me retorna Clientes
    }
    
    public bool ExisteCliente(Cliente c)
    {
    	return clientes.Contains(c);   //Metodo para saber si el elemento de la lista existe
    }
		
	// Metodos simples para la clase cuenta

    public void AgregarCuenta(Cuenta c)
    {
        cuentas.Add(c);
    }
    public void EliminarCuenta(Cuenta c)
    {
        cuentas.Remove(c);
    }
    public int CantidadCuentas()
    {
        return cuentas.Count;
    }
    public Cuenta VerCuenta(int i)
    {
        return cuentas[i];
    }
    public List<Cuenta> TodasLasCuentas()
    {
        return cuentas;
    }

    public bool ExisteCuenta(Cuenta c)
    {
    	return cuentas.Contains(c);
    }
		
}
	public class Cuenta
{
    private int numero;
    private Cliente titular; 
    private double saldo;

    // Propiedades

    public int Numero
    {
        get { return numero; } set { numero = value; }
    }

    public Cliente Titular
    {
        get { return titular; } set { titular = value; }
    }

    public double Saldo
    {
        get { return saldo; } set { saldo = value; }
    }

    // Constructor

    public Cuenta(int numero, Cliente titular, double saldo)
    {
        this.numero = numero;
        this.titular = titular;
        this.saldo = saldo;
    }

    // Metodos simples (depositar y extraer)

    public void Depositar(double monto)
    {
        if (monto <= 0) //"Si el monto es menor a 0 o igual salta una exception"
        {
            throw new Exception("El monto debe ser mayor que 0");  //El throw sirve para lanzar la excepcion
        }
        
        saldo += monto; //Si la condicion no se cumple, entonces se ejecuta esta linea de codigo, Sumandole al saldo
       }

    public void Extraer(double monto)
    {
        if (monto > saldo)//"Si el monto es mayor al Saldo se lanza una excepcion"
        {
            throw new MontoinsuficienteExcepcion();
        }
        saldo -= monto; //Si la condicion no se cumple, entonces se ejecuta esta linea de codigo, restandole al saldo
    }

    public override string ToString() //Capacidad que tienen los objetos de diferentes clases para reponder al mismo mensaje pero de diferente manera    	
    {
    	 return "Número: " + numero + "  Titular: " + titular + "  Saldo: " + saldo;
    }
}
	public class Cliente
{

    // Atributos definidos

    private string nombre;
    private string apellido;
    private int dni;
    private string direccion;
    private int telefono;
    private string mail;

    // Propiedades

    public string Nombre 
    {
        get { return nombre; } set { nombre = value; }
    }

    public string Apellido 
    {
        get { return apellido; } set { apellido = value; }
    }

    public int Dni 
    {
        get { return dni; } set { dni = value; }
    }

    public string Direccion 
    {
        get { return direccion; } set { direccion = value; }
    }

    public int Telefono 
    {
        get { return telefono; } set { telefono = value; }
    }

    public string Mail 
    {
        get { return mail; } set { mail = value; }
    }

    // Constructor
    public Cliente(string nombre, string apellido, int dni, string direccion, int telefono, string mail)
    {
        this.nombre = nombre;
        this.apellido = apellido;
        this.dni = dni;
        this.direccion = direccion;
        this.telefono = telefono;
        this.mail = mail;
    }
    public override string ToString()//El override sirve para cambiar el comportamieno de un metodo
                                     //Capacidad que tienen los objetos de diferentes clases para reponder al mismo mensaje pero de diferente manera    	
    {
    	return "Nombre: " + nombre + "  Apellido: " + apellido + "  DNI: " + dni;
    }
}
public class MontoinsuficienteExcepcion : Exception
{
//Cuando creamos una excepcion, estamos utilizando herencia, ya que definimos una nueva clase que herada de la superclase excepcion
}	
	
		
}
	

